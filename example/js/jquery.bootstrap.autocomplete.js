$.bootstrapAutocompleteFunc=function(srcObj,datas,callback){console.log(1);var newValue=srcObj.val().trim();var finalData=datas;if(newValue.length>0){finalData=[];for(var i=0;i<datas.length;i++){if((datas[i]["name"]+"").indexOf(newValue)>-1){finalData.push(datas[i])}}}$.bootstrapAutocompleteData=finalData;if($("#bootstrap-autocomplete-container").length>0){$("#bootstrap-autocomplete-container").remove()}var showHtml='<div id="bootstrap-autocomplete-container" style="overflow:auto;max-height:100%;z-index:2000;position: fixed;top:'+(srcObj.position().top+$(srcObj).innerHeight()+4)+"px;left:"+srcObj.position().left+'px;">';showHtml+='<div style="position:relative;min-width:300px;box-shadow: 3px 3px 3px #ccc;" class="list-group">';if(finalData.length==0){showHtml+='<a href="#" class="list-group-item">无结果</a>'}else{for(var i=0;i<finalData.length;i++){showHtml+='<a href="#" dvalue="'+i+'" class="list-group-item">'+finalData[i]["name"]+"</a>"}}showHtml+="</div></div>";$("body").append(showHtml);setTimeout(function(){for(var i=0;i<finalData.length;i++){$("a[dvalue="+i+"]").on("click",function(){srcObj.val(this.innerText);if(callback){callback($.bootstrapAutocompleteData[this.getAttribute("dvalue")])}})}},100)};$.fn.extend({bootstrapAutocomplete:function(datas,callback){$(this).on("input",function(){var srcObj=$(this);$.bootstrapAutocompleteFunc(srcObj,datas,callback)});$(this).on("focus",function(){var srcObj=$(this);$.bootstrapAutocompleteFunc(srcObj,datas,callback)});$(this).on("blur",function(){setTimeout(function(){if($("#bootstrap-autocomplete-container").length>0){$("#bootstrap-autocomplete-container").hide()}},100)})}});